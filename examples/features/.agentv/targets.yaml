# A list of all supported evaluation targets for the project.
# Each target defines a provider and its specific configuration.
# Actual values for paths/keys are stored in the local .env file.

targets:
  - name: default
    provider: azure
    endpoint: ${{ AZURE_OPENAI_ENDPOINT }}
    api_key: ${{ AZURE_OPENAI_API_KEY }}
    model: ${{ AZURE_DEPLOYMENT_NAME }}
    # version: ${{ AZURE_OPENAI_API_VERSION }}  # Optional: uncomment to override default (2024-12-01-preview)

  - name: vscode
    provider: vscode
    judge_target: azure_base

  - name: codex
    provider: codex
    judge_target: azure_base
    # Uses the Codex CLI (defaults to `codex` on PATH)
    # executable: ${{ CODEX_CLI_PATH }}        # Optional: override executable path
    # args:                             # Optional additional CLI arguments
    #   - --profile
    #   - ${{ CODEX_PROFILE }}
    #   - --model
    #   - ${{ CODEX_MODEL }}
    #   - --ask-for-approval
    #   - ${{ CODEX_APPROVAL_PRESET }}
    timeout_seconds: 180
    cwd: ${{ CODEX_WORKSPACE_DIR }}            # Where scratch workspaces are created
    log_dir: ${{ CODEX_LOG_DIR }}              # Optional: where Codex CLI stream logs are stored (defaults to ./.agentv/logs/codex)
    log_format: json                    # Optional: 'summary' (default) or 'json' for raw event logs

  - name: vscode_projectx
    provider: vscode
    workspace_template: ${{ PROJECTX_WORKSPACE_PATH }}
    provider_batching: false
    judge_target: azure_base

  - name: vscode_insiders_projectx
    provider: vscode-insiders
    workspace_template: ${{ PROJECTX_WORKSPACE_PATH }}
    provider_batching: false
    judge_target: azure_base

  - name: azure_base
    provider: azure
    endpoint: ${{ AZURE_OPENAI_ENDPOINT }}
    api_key: ${{ AZURE_OPENAI_API_KEY }}
    model: ${{ AZURE_DEPLOYMENT_NAME }}
    version: ${{ AZURE_OPENAI_API_VERSION }}

  - name: gemini_base
    provider: gemini
    api_key: ${{ GOOGLE_GENERATIVE_AI_API_KEY }}
    model: ${{ GEMINI_MODEL_NAME }}

  # Pi Coding Agent - autonomous coding CLI from pi-mono
  - name: pi
    provider: pi-coding-agent
    executable: ${{ PI_CLI_PATH }}  # Optional: defaults to `pi` if omitted
    pi_provider: google
    model: ${{ GEMINI_MODEL_NAME }}
    api_key: ${{ GOOGLE_GENERATIVE_AI_API_KEY }}
    judge_target: gemini_base
    timeout_seconds: 180
    tools: read,bash,edit,write  # Default tools for coding tasks
    log_format: json  # 'summary' (default) or 'json' for raw event logs
    # system_prompt: optional override (default instructs agent to include code in response)

  # GitHub Copilot CLI
  - name: copilot
    provider: copilot-cli
    judge_target: azure_base
    # executable: copilot                     # Optional: defaults to `copilot` on PATH
    # model: gpt-5                            # Optional: override model
    timeout_seconds: 180
    log_format: json                          # Optional: 'summary' (default) or 'json'
    # system_prompt: optional override (default instructs agent to include code in response)

  # Claude Code - Anthropic's autonomous coding CLI
  - name: claude-code
    provider: claude-code
    judge_target: azure_base
    # executable: ${{ CLAUDE_CODE_CLI_PATH }}  # Optional: defaults to `claude` on PATH
    # model: claude-sonnet-4-20250514          # Optional: override model
    timeout_seconds: 180
    log_format: json  # 'summary' (default) or 'json' for raw event logs
    # system_prompt: optional override (default instructs agent to include code in response)
