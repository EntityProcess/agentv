targets:
  - name: batch_cli
    provider: cli
    provider_batching: true
    verbose: true
    # Runs once for the whole panel.
    # The runner reads ./AmlScreeningInput.csv and writes JSONL to {OUTPUT_FILE}.
    # NOTE: Do not add quotes around {OUTPUT_FILE}; it is already shell-escaped.
    command_template: bun run ./scripts/batch-cli-runner.ts --eval ./evals/dataset.yaml --csv ./AmlScreeningInput.csv --output {OUTPUT_FILE}
    cwd: ..
    timeout_seconds: 30
    healthcheck:
      type: command
      command_template: bun run ./scripts/batch-cli-runner.ts --healthcheck
      cwd: ..
